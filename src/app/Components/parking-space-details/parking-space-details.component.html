<div class="parking-space-details">
  <app-nav-bar [showSearch]="!showSearch"></app-nav-bar>
  <div class="parking-space-details__close">
    <span>Book a parking spot here</span>
    <mat-icon svgIcon="icon-close"></mat-icon>
  </div>
  <mat-divider></mat-divider>
  <div class="parking-space-details__container">
    <div class="parking-space-details__container__left">
      <div class="parking-space-details__container__left__informations">
        <div
          class="parking-space-details__container__left__informations__parking-lot"
        >
          <span>Informations</span>
          <div class="row">
            <p class="col-lg">Address</p>
            <p class="col-sm">{{ parkingPlace.address }}</p>
          </div>
          <div class="row">
            <p class="col-lg">Locuri disponibile</p>
            <p class="col-sm">{{ parkingPlace.locuriDisponibile }}</p>
          </div>
          <div class="row">
            <p class="col-lg">Owner</p>
            <p class="col-sm">
              {{ parkingPlace.owner.firstname }}
              {{ parkingPlace.owner.lastname }}
            </p>
          </div>
          <div class="row">
            <p class="col-lg">Start Date</p>
            <p class="col-sm">{{ parkingPlace.startDate | date }}</p>
          </div>
          <div class="row">
            <p class="col-lg">End Date</p>
            <p class="col-sm">{{ parkingPlace.endDate | date }}</p>
          </div>
          <span>Properties</span>
          <div class="row">
            <p class="col-lg">Paid Parking</p>
            <p
              class="col-sm"
              [ngClass]="{
                'parking-space-details__container__left__informations__parking-lot__yes':
                  parkingPlace.isFree,
                'parking-space-details__container__left__informations__parking-lot__no':
                  !parkingPlace.isFree
              }"
            >
              {{ parkingPlace.isFree ? "Yes" : "No" }}
            </p>
          </div>
          <div class="row">
            <p class="col-lg">Video Surveillance</p>
            <p
              class="col-sm"
              [ngClass]="{
                'parking-space-details__container__left__informations__parking-lot__yes':
                  parkingPlace.isVideoSurveillance,
                'parking-space-details__container__left__informations__parking-lot__no':
                  !parkingPlace.isVideoSurveillance
              }"
            >
              {{ parkingPlace.isVideoSurveillance ? "Yes" : "No" }}
            </p>
          </div>
          <div class="row">
            <p class="col-lg">Agricultural Machinery</p>
            <p
              class="col-sm"
              [ngClass]="{
                'parking-space-details__container__left__informations__parking-lot__yes':
                  parkingPlace.isAgriculturalMachinery,
                'parking-space-details__container__left__informations__parking-lot__no':
                  !parkingPlace.isAgriculturalMachinery
              }"
            >
              {{ parkingPlace.isAgriculturalMachinery ? "Yes" : "No" }}
            </p>
          </div>
          <div class="row">
            <p class="col-lg">Public Transport</p>
            <p
              class="col-sm"
              [ngClass]="{
                'parking-space-details__container__left__informations__parking-lot__yes':
                  parkingPlace.isPublicTransport,
                'parking-space-details__container__left__informations__parking-lot__no':
                  !parkingPlace.isPublicTransport
              }"
            >
              {{ parkingPlace.isPublicTransport ? "Yes" : "No" }}
            </p>
          </div>
          <div class="row">
            <p class="col-lg">Truck</p>
            <p
              class="col-sm"
              [ngClass]="{
                'parking-space-details__container__left__informations__parking-lot__yes':
                  parkingPlace.isTruck,
                'parking-space-details__container__left__informations__parking-lot__no':
                  !parkingPlace.isTruck
              }"
            >
              {{ parkingPlace.isTruck ? "Yes" : "No" }}
            </p>
          </div>
        </div>
        <div class="parking-space-details__container__right">
          <div class="parking-space-details__container__right__image">
            <img src="{{ parkingPlace.imageUrl }}" />
          </div>
          <textarea
            readonly
            class="parking-space-details__container__right__description"
          >
          {{ parkingPlace.description }}
        </textarea
          >
        </div>
      </div>
      <div class="parking-space-details__container__left__all-spots">
        <app-legend></app-legend>
        <div class="parking-space-details__container__left__all-spots__cards">
          <div
            class="parking-space-details__container__left__all-spots__cards__spot"
            *ngFor="let spot of parkingPlace.parkingSpots"
          >
            <div
              class="parking-space-details__container__left__all-spots__cards__spot__status"
              [ngStyle]="{
                'background-color':
                  spot.isReserved === 'occupied'
                    ? '#0D1C61'
                    : spot.isReserved === 'partially_occupied'
                    ? '#CBCFCF'
                    : spot.isReserved === 'available'
                    ? '#25A605'
                    : 'white'
              }"
            ></div>
            <div>
              <p>{{ spot.spotNumber }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="parking-space-details__container__left__informations__booking">
      <div class="type">
        <div><h2>Book a parking spot</h2></div>
        <div>
          <mat-button-toggle-group
            (change)="changeType($event.value)"
            [value]="bookingType"
          >
            <mat-button-toggle value="day">One day</mat-button-toggle>
            <mat-button-toggle value="manyDays">Many days</mat-button-toggle>
            <mat-button-toggle value="subscription"
              >Subscription</mat-button-toggle
            >
          </mat-button-toggle-group>
        </div>
      </div>

      <div
        class="parking-space-details__container__left__informations__booking__fields"
      >
        <div
          *ngIf="bookingType === 'day'"
          class="parking-space-details__container__left__informations__booking__fields__one-day"
        >
          <div
            class="parking-space-details__container__left__informations__booking__fields__date"
          >
            <div>Choose a date</div>
            <div>
              <mat-form-field>
                <input matInput [matDatepicker]="picker" />
                <mat-datepicker-toggle
                  matIconSuffix
                  [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div
            class="parking-space-details__container__left__informations__booking__fields__time"
          >
            <div>Alege intervalul orar</div>
            <div
              class="parking-space-details__container__left__informations__booking__fields__time__mat-form-field"
            >
              <div>
                <mat-form-field>
                  <mat-label>Start Hours</mat-label>
                  <select matNativeControl required [(ngModel)]="startHour">
                    <option *ngFor="let hour of hours" value="hour">
                      {{ hour | hourFormat }}
                    </option>
                  </select>
                </mat-form-field>
              </div>
              <div>
                <mat-form-field>
                  <mat-label>End Hours</mat-label>
                  <select matNativeControl required [(ngModel)]="endHour">
                    <option *ngFor="let hour of hours" value="hour">
                      {{ hour | hourFormat }}
                    </option>
                  </select>
                </mat-form-field>
              </div>
            </div>
          </div>
          <!-- <mat-error>End date has to bee smaller than start date</mat-error> -->
          <div
            class="parking-space-details__container__left__informations__booking__fields__vehicle"
          >
            <div>Alege vehiculul care va fi parcat</div>
            <div>
              <mat-form-field>
                <input
                  matInput
                  placeholder="Vehicle Number"
                  [matAutocomplete]="auto"
                />
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option
                    *ngFor="let vehicle of vehicles"
                    [value]="vehicle.vehicleIdentificationNumber"
                  >
                    {{ vehicle.vehicleIdentificationNumber }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </div>
          </div>
          <div
            class="parking-space-details__container__left__informations__booking__fields__vehicle"
          >
            <div>Name of parking spot</div>
            <div>
              <mat-form-field>
                <input
                  type="text"
                  placeholder="Pick one"
                  aria-label="Number"
                  matInput
                />
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option></mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </div>
          </div>
          <div
            class="parking-space-details__container__left__informations__booking__fields__vehicle"
          >
            <div>Choose method payment</div>
            <div>
              <mat-form-field>
                <input
                  matInput
                  placeholder="Choose method payment"
                  [matAutocomplete]="vehicle"
                />
                <mat-autocomplete #vehicle="matAutocomplete">
                  <mat-option
                    *ngFor="let method of paymentMethods"
                    [value]="method"
                  >
                    {{ method }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </div>
          </div>

          <div
            class="parking-space-details__container__left__informations__booking__fields__vehicle"
          >
            <div>Total to paint</div>
            <div>
              <mat-form-field>
                <input matInput />
              </mat-form-field>
            </div>
          </div>
        </div>
        <div
          *ngIf="bookingType === 'manyDays'"
          class="parking-space-details__container__left__informations__booking__fields__many-days"
        ></div>
        <div
          *ngIf="bookingType === 'subscription'"
          class="parking-space-details__container__left__informations__booking__fields__subscription"
        ></div>
      </div>

      <div
        class="parking-space-details__container__left__informations__booking__button"
      >
        <button class="">Book</button>
      </div>
    </div>
  </div>
</div>
